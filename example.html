<html>
	<head>
		<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="./js/simple-counter.js"></script>
	</head>
	<body>
		<h1>Simple Counter Example</h1>
		<div>
			Start value: <input id="startValue" type="number" required/>
		</div>
		<div id="counterContainer">
			
		</div>
		<div>
			<button id="startBtn">Start</button>
			<button id="stopBtn">Stop</button>
			<button id="resetBtn">Reset</button>
		</div>
		<div id="messages">
			
		</div>

		<script type="text/javascript">
		$(document).ready(function() {
			console.log('document loaded');
			

			var counter = new Counter({htmlEl: '#counterContainer', startValue : 0, callback: myCallback});
			// console.log(counter.currnentValue);
			// counter.start();
			// setTimeout(function() {
			// 	counter.stop();
			// 	counter.start();
			// }, 5000);

			function myCallback(scope) {
				$('#messages').append('tick ');
					console.log(scope.getCurrentValue());
			}

			$('#startBtn').on('click', function(){
				console.log('inputvalue');
				console.log($('#startValue').val());
				var startValue = $('#startValue') && parseInt($('#startValue').val()) > 0 ? parseInt($('#startValue').val()) : 0;
				counter.setStartValue(startValue);
				counter.start();
			});

			$('#stopBtn').on('click', function() {
				counter.stop();
			});

			$('#resetBtn').on('click', function() {
				counter.reset();
			});
		});

		</script>
	</body>
</html>